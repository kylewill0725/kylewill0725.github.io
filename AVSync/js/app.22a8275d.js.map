{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Manager.vue?1115","webpack:///./src/components/VideoSection/Video.vue?f3e5","webpack:///./src/components/ControlsSection/Controls.vue?dcc9","webpack:///./src/components/Manager.vue?22e1","webpack:///./src/App.vue?66e6","webpack:///./src/App.vue","webpack:///./src/components/Manager.vue","webpack:///./src/components/VideoSection/Video.vue","webpack:///./src/components/VideoSection/Video.vue?c2cd","webpack:///./src/components/VideoSection/Video.vue?e435","webpack:///./src/components/AudioSection/Audio.vue","webpack:///./src/components/AudioSection/GraphDataGen.ts","webpack:///./src/components/AudioSection/Audio.vue?1132","webpack:///./src/components/AudioSection/Audio.vue?814c","webpack:///./src/components/ControlsSection/Controls.vue","webpack:///./src/vue3compat/vue-feathers-icons.ts","webpack:///./src/Utils.ts","webpack:///./src/components/ControlsSection/Controls.vue?f172","webpack:///./src/components/ControlsSection/Controls.vue?da42","webpack:///./src/components/Manager.vue?e6f6","webpack:///./src/components/Manager.vue?ba5b","webpack:///./src/App.vue?dfb6","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","class","src","videoFilePath","state","isPlaying","updateTime","updateCurrentTime","updateVideoMetadata","videoFile","frameCount","frames","currentFrame","frameRate","currentTime","timeString","updateFrameRate","updateVideoPath","shiftFrames","updateIsPlaying","ref","onMetadata","props","type","String","Boolean","default","Number","setup","cancelEmitLoop","emit","video","emitCurrentTime","loopOptions","v","intervalId","setInterval","delayMs","clearInterval","handleStateChange","play","pause","undefined","e","videoEl","target","volume","duration","render","__scopeId","GetAudioVolumeOverTimeFromVideoFile","audioCtx","AudioContext","sampleRate","arrayBuffer","videoData","decodeAudioData","audioBuffer","audioSamples","getChannelData","soundGroups","GetSoundsGroups","sampleCount","sampleGroups","map","g","samples","timeStep","samplesPer20ms","reduce","acc","vel","prevValue","prevVelSign","Math","sign","lastSample","lastSampleNum","prevIndex","sample","firstSampleNum","canvas","audioWatch","drawWatch","frame","ctx","getContext","canvasSize","getClientRects","width","floor","height","fillStyle","fillRect","drawAudioLevels","drawPositionLine","lastBin","samplesPerFrame","ceil","sampleBin","Array","from","_0","samplesEnd","totalSampleValue","totalSampleCount","forEach","v1","find","pixelsPerFrame","val","barHeight","max","x","hidden","accept","setPlayState","supportedFrameRates","fps","selected","updateVideoMarker","updateAudioMarker","toMs","audioMarker","videoMarker","diffMarker","formattedTime","compat","ren","attrs","cls","isArray","children","rem","arg1","size","Icon","SecToFrame","time","components","ChevronLeftIcon","ChevronsLeftIcon","ChevronRightIcon","ChevronsRightIcon","PlayCircleIcon","PauseCircleIcon","selectEl","inputEl","file","files","item","videoPath","URL","createObjectURL","path","AVSVideo","AVSAudio","AVSControls","videoDuration","round","frameTimeArray","fileDetails","revokeObjectURL","rate","Manager","ready","console","log","registered","cached","updatefound","updated","offline","error","app","App","mount"],"mappings":"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","file":"js/app.22a8275d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Manager.vue?vue&type=style&index=0&id=48ef4f78&lang=stylus\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Video.vue?vue&type=style&index=0&id=1bd2fc94&lang=stylus&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Controls.vue?vue&type=style&index=0&id=90c67842&lang=stylus&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Manager.vue?vue&type=style&index=1&id=48ef4f78&lang=stylus&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=c2952bd8&lang=stylus\"","<template>\n  <div id=\"app\">\n    <Manager />\n  </div>\n</template>\n\n<script>\nimport Manager from '@/components/Manager.vue'\nexport default {\n  components: {\n    Manager,\n  },\n}\n</script>\n<style lang=\"stylus\">\nbody\n  margin 0\n  height 100vh\n  width 100vw\n\n#app\n  padding 10px\n  height 'calc(100% - 2 * %s)' % @padding\n  width 'calc(100% - 2 * %s)' % @padding\n</style>\n","<div class=\"layout full\"><AVSVideo class=\"video\" :src=\"videoFilePath\" :state=\"isPlaying\" :updateTime=\"updateTime\" @onTimeUpdate=\"updateCurrentTime\" @onMetadata=\"updateVideoMetadata\"></AVSVideo><AVSAudio class=\"audio\" :videoFile=\"videoFile\" :frameCount=\"frames\" :currentFrame=\"currentFrame\"></AVSAudio><AVSControls class=\"controls\" :isPlaying=\"isPlaying\" :frameRate=\"frameRate\" :currentTime=\"timeString\" @frameRateChanged=\"updateFrameRate\" @videoSelected=\"updateVideoPath\" @onFrameShift=\"shiftFrames\" @playToggle=\"updateIsPlaying\"></AVSControls></div>","<video class=\"full\" id=\"video\" ref=\"video\" :src=\"src\" @loadedmetadata=\"onMetadata\"></video>","\nimport { watch, toRefs, ref, defineComponent } from 'vue'\n\nexport default defineComponent({\n  props: {\n    src: {\n      type: String,\n    },\n    state: {\n      type: Boolean,\n      default: false,\n    },\n    updateTime: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, { emit }) {\n    const video = ref<HTMLVideoElement | null>(null)\n    const { state, updateTime } = toRefs(props)\n\n    const emitCurrentTime = (\n      loopOptions: { delayMs: number } | null = null\n    ) => {\n      const v = video.value\n      if (v == null) {\n        return\n      }\n      if (loopOptions == null) {\n        emit('onTimeUpdate', v.currentTime)\n        return\n      }\n      const intervalId = { id: 0 }\n      intervalId.id = setInterval(() => {\n        emit('onTimeUpdate', v.currentTime)\n      }, loopOptions.delayMs)\n      return () => clearInterval(intervalId.id)\n    }\n    let cancelEmitLoop: undefined | (() => void)\n\n    const handleStateChange = () => {\n      const v = video.value\n      switch (state.value) {\n        case true:\n          v?.play()\n          cancelEmitLoop = emitCurrentTime({ delayMs: 0.5 / 30 })\n          break\n        case false:\n          if (v == null) break\n          v.pause()\n          if (cancelEmitLoop != undefined) {\n            cancelEmitLoop()\n          }\n          v.currentTime += 0\n          emitCurrentTime()\n          break\n      }\n    }\n    watch(state, handleStateChange)\n    watch(updateTime, (n) => {\n      if (video.value == null) return\n      // Firefox does not have 100% frame seeking using just currentFrame.\n      // Need to use seekToNextFrame\n      // TODO: Soon\n      video.value.currentTime = n\n      emitCurrentTime()\n    })\n\n    return {\n      video,\n      onMetadata: (e: Event) => {\n        const videoEl = e.target as HTMLVideoElement\n        videoEl.volume = 0\n        emit('onMetadata', { duration: videoEl.duration })\n      },\n    }\n  },\n})\n","import { render } from \"./Video.vue?vue&type=template&id=1bd2fc94&scoped=true&lang=pug\"\nimport script from \"./Video.vue?vue&type=script&lang=ts\"\nexport * from \"./Video.vue?vue&type=script&lang=ts\"\n\nimport \"./Video.vue?vue&type=style&index=0&id=1bd2fc94&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1bd2fc94\"\n\nexport default script","<canvas class=\"full\" ref=\"canvas\" id=\"audioGraph\">Audio level over time</canvas>","export async function GetAudioVolumeOverTimeFromVideoFile(\n  video: File\n): Promise<{\n  sampleRate: number\n  sampleCount: number\n  sampleGroups: [number, number][][]\n}> {\n  const audioCtx = new AudioContext({\n    sampleRate: 48000,\n  })\n  const videoData = await video.arrayBuffer()\n  const audioBuffer = await audioCtx.decodeAudioData(videoData)\n  const audioSamples = audioBuffer.getChannelData(0)\n\n  const soundGroups = GetSoundsGroups(audioSamples, audioBuffer.sampleRate)\n\n  return {\n    sampleRate: audioBuffer.sampleRate,\n    sampleCount: audioSamples.length,\n    sampleGroups: soundGroups.map((g) => g.samples),\n  }\n}\n\nfunction GetSoundsGroups(audioSamples: Float32Array, sampleRate: number) {\n  const timeStep = 1 / sampleRate\n  const samplesPer20ms = 0.02 * sampleRate\n\n  return audioSamples.reduce(\n    (acc, v, i) => {\n      const vel = (v - acc.prevValue) / timeStep\n      if (\n        acc.prevVelSign != 0 &&\n        Math.sign(vel) != acc.prevVelSign &&\n        v > 0.1\n      ) {\n        if (\n          acc.lastSample != undefined &&\n          acc.lastSample.lastSampleNum >= i - samplesPer20ms\n        ) {\n          acc.lastSample.samples.push([acc.prevIndex, acc.prevValue])\n          acc.lastSample.lastSampleNum = i\n        } else {\n          const sample = {\n            firstSampleNum: i,\n            lastSampleNum: i,\n            samples: [[acc.prevIndex, acc.prevValue]] as [number, number][],\n          }\n          acc.result.push(sample)\n          acc.lastSample = sample\n        }\n      }\n      acc.prevVelSign = Math.sign(vel)\n      acc.prevValue = v\n      acc.prevIndex = i\n      return acc\n    },\n    {\n      result: [],\n      prevVelSign: null,\n      prevValue: 0,\n      prevIndex: -1,\n      lastSample: null,\n    } as {\n      result: {\n        firstSampleNum: number\n        lastSampleNum: number\n        samples: [number, number][]\n      }[]\n      prevVelSign: null | number\n      prevValue: number\n      prevIndex: number\n      lastSample: null | {\n        firstSampleNum: number\n        lastSampleNum: number\n        samples: [number, number][]\n      }\n    }\n  ).result\n}\n","\nimport { defineComponent, ref, toRefs, watch, PropType } from 'vue'\nimport { GetAudioVolumeOverTimeFromVideoFile } from '@/components/AudioSection/GraphDataGen'\n\nexport default defineComponent({\n  props: {\n    videoFile: {\n      type: Object as PropType<File | undefined>,\n    },\n    frameCount: {\n      type: Number,\n      default: 0,\n    },\n    currentFrame: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props) {\n    const { frameCount, currentFrame } = toRefs(props)\n    const data = ref<null | {\n      sampleRate: number\n      sampleCount: number\n      sampleGroups: [number, number][][]\n    }>(null)\n    const canvas = ref<HTMLCanvasElement | null>(null)\n\n    const audioWatch = watch(\n      () => props.videoFile,\n      async (video) => {\n        if (video == undefined) return\n        data.value = await GetAudioVolumeOverTimeFromVideoFile(video)\n      }\n    )\n    const drawWatch = watch(\n      [data, frameCount, currentFrame],\n      ([data, frames, frame]) => {\n        if (data == null) return\n\n        const ctx = canvas.value?.getContext('2d')\n        if (ctx == null) return\n        const canvasSize = ctx.canvas.getClientRects()[0]\n        const width = Math.floor(canvasSize.width)\n        const height = Math.floor(canvasSize.height)\n        ctx.canvas.width = width\n        ctx.canvas.height = height\n\n        ctx.fillStyle = 'white'\n        ctx.fillRect(0, 0, width, height)\n        drawAudioLevels(ctx, data, frames)\n        drawPositionLine(ctx, frame, frames)\n        // console.log(`Audio Frame: ${frames}`)\n      }\n    )\n    return {\n      canvas,\n      audioWatch,\n      drawWatch,\n    }\n  },\n})\n\nfunction drawAudioLevels(\n  ctx: CanvasRenderingContext2D,\n  data: {\n    sampleRate: number\n    sampleCount: number\n    sampleGroups: [number, number][][]\n  },\n  frames: number\n) {\n  const width = ctx.canvas.width\n  const height = ctx.canvas.height\n\n  const samplesPerFrame = Math.ceil(data.sampleCount / frames)\n  const sampleBin = Array.from({ length: frames }, (_0, i) => ({\n    samplesEnd: (i + 1) * samplesPerFrame - 1,\n    totalSampleValue: 0,\n    totalSampleCount: 0,\n    frame: i,\n  }))\n\n  // const framesWithSpikes = []\n  let lastBin:\n    | {\n        samplesEnd: number\n        totalSampleCount: number\n        totalSampleValue: number\n      }\n    | undefined\n  data.sampleGroups.forEach((v1) =>\n    v1.forEach((v) => {\n      if (lastBin == undefined || lastBin.samplesEnd < v[0]) {\n        lastBin = sampleBin.find((s) => s.samplesEnd >= v[0])\n      }\n      if (lastBin == undefined) return\n      lastBin.totalSampleCount++\n      lastBin.totalSampleValue += v[1]\n    })\n  )\n\n  // console.log(framesWithSpikes)\n\n  const pixelsPerFrame = Math.ceil(width / frames)\n\n  ctx.fillStyle = 'aqua'\n  for (let i = 0; i < frames; i++) {\n    const val =\n      sampleBin[i].totalSampleValue / sampleBin[i].totalSampleCount || 0\n    const barHeight = Math.max(5, val * height)\n    ctx.fillRect(\n      i * pixelsPerFrame,\n      height - barHeight,\n      pixelsPerFrame,\n      barHeight\n    )\n  }\n}\n\nfunction drawPositionLine(\n  ctx: CanvasRenderingContext2D,\n  currentFrame: number,\n  frames: number\n) {\n  const width = ctx.canvas.width\n  const height = ctx.canvas.height\n\n  const pixelsPerFrame = Math.ceil(width / frames)\n  const x = (currentFrame + 0.5) * pixelsPerFrame\n\n  ctx.fillStyle = 'red'\n  ctx.fillRect(x - 1, 0, 1, height)\n}\n","import { render } from \"./Audio.vue?vue&type=template&id=23d94568&lang=pug\"\nimport script from \"./Audio.vue?vue&type=script&lang=ts\"\nexport * from \"./Audio.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<div class=\"full\" id=\"controls\"><input type=\"file\" accept=\"video/*\" @change=\"updateVideoPath\"><br><button class=\"vidControl\" hidden><ChevronsLeftIcon></ChevronsLeftIcon></button><button class=\"vidControl\" @click=\"shiftFrames(-1)\"><ChevronLeftIcon></ChevronLeftIcon></button><button class=\"vidControl\" v-if=\"isPlaying\" @click=\"setPlayState(false)\"><PauseCircleIcon></PauseCircleIcon></button><button class=\"vidControl\" v-if=\"!isPlaying\" @click=\"setPlayState(true)\"><PlayCircleIcon></PlayCircleIcon></button><button class=\"vidControl\" @click=\"shiftFrames(1)\"><ChevronRightIcon></ChevronRightIcon></button><button class=\"vidControl\" hidden><ChevronsRightIcon></ChevronsRightIcon></button><br><label>Frame Rate</label><select name=\"FrameRate\" @change=\"updateFrameRate\"><option v-for=\"fps in supportedFrameRates\" :selected=\"fps === 30\" :value=\"fps\">{{fps}} fps</option><option>Custom</option></select><br><button @click=\"updateVideoMarker\">Mark Video</button><br><button @click=\"updateAudioMarker\">Mark Audio</button><br><p>Audio Time: {{toMs(audioMarker)}}ms</p><p>Video Time: {{toMs(videoMarker)}}ms</p><p>Difference: {{toMs(diffMarker)}}ms</p><p>Time: {{formattedTime}}</p></div>","import * as VueBase from 'vue'\n\ninterface Props {\n  attrs: Props | undefined\n  class: string\n}\n\ninterface I1 {\n  props: Props\n  children: undefined | I1[]\n}\n\ninterface IIcon {\n  render(arg1: unknown, arg2: unknown): I1\n}\n\nconst compat = (ren: I1) => {\n  const { attrs, class: cls } = ren.props\n  if (attrs) {\n    ren.props = attrs\n    ren.props.class = cls\n  }\n  if (Array.isArray(ren.children)) {\n    ren.children = ren.children.map((rem) => {\n      return compat(rem)\n    })\n  }\n  return ren\n}\n\nexport default function (arg1: unknown[] | unknown, size = '16'): void {\n  if (Array.isArray(arg1)) {\n    for (const i of arg1) {\n      const Icon = i as IIcon\n      const ren = Icon.render(VueBase.h, { props: { size }, data: {} })\n      Icon.render = function () {\n        return compat(ren)\n      }\n    }\n  } else {\n    const Icon = arg1 as IIcon\n    const ren = Icon.render(VueBase.h, { props: { size }, data: {} })\n    Icon.render = function () {\n      return compat(ren)\n    }\n  }\n}\n","export function SecToFrame(time: number, frameRate: number): number {\n  return Math.floor(time * frameRate)\n}\n","\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  ChevronsLeftIcon,\n  ChevronsRightIcon,\n  PauseCircleIcon,\n  PlayCircleIcon,\n} from 'vue-feather-icons'\nimport featherCompat from '@/vue3compat/vue-feathers-icons'\nimport { computed, defineComponent, ref, toRefs } from 'vue'\nimport { SecToFrame } from '@/Utils'\n\nfeatherCompat(\n  [\n    ChevronsLeftIcon,\n    ChevronLeftIcon,\n    ChevronsRightIcon,\n    ChevronRightIcon,\n    PlayCircleIcon,\n    PauseCircleIcon,\n  ],\n  '30'\n)\n\nconst supportedFrameRates = [23.976, 24, 29.97, 30, 60]\n\nexport default defineComponent({\n  components: {\n    ChevronLeftIcon,\n    ChevronsLeftIcon,\n    ChevronRightIcon,\n    ChevronsRightIcon,\n    PlayCircleIcon,\n    PauseCircleIcon,\n  },\n  props: {\n    isPlaying: {\n      type: Boolean,\n      default: false,\n    },\n    frameRate: {\n      type: Number,\n      default: supportedFrameRates[3],\n    },\n    currentTime: {\n      type: Number,\n      default: 0,\n    },\n  },\n  setup(props, { emit }) {\n    const { currentTime, frameRate } = toRefs(props)\n    const audioMarker = ref(0)\n    const videoMarker = ref(0)\n\n    return {\n      supportedFrameRates: supportedFrameRates,\n      updateFrameRate(e: Event) {\n        const selectEl = e.target as HTMLSelectElement\n        emit('frameRateChanged', Number(selectEl.value))\n      },\n      updateVideoPath(e: Event) {\n        const inputEl = e.target as HTMLInputElement\n        const file = inputEl.files?.item(0)\n        if (file == null) throw 'File cannot be null'\n        const videoPath = URL.createObjectURL(file)\n        emit('videoSelected', { path: videoPath, file: file })\n      },\n      updateVideoMarker() {\n        videoMarker.value = currentTime.value\n      },\n      updateAudioMarker() {\n        audioMarker.value = currentTime.value\n      },\n      setPlayState(state: boolean) {\n        emit('playToggle', state)\n      },\n      shiftFrames(frames: number) {\n        emit('onFrameShift', frames)\n      },\n      audioMarker,\n      videoMarker,\n      diffMarker: computed(() => videoMarker.value - audioMarker.value),\n      formattedTime: computed(() => {\n        const currentFrame = SecToFrame(currentTime.value, frameRate.value)\n        return `${Math.floor(\n          currentTime.value * 1000\n        )}ms (Frame #${currentFrame})`\n      }),\n      toMs(n: number) {\n        return Math.floor(n * 1000)\n      },\n    }\n  },\n})\n","import { render } from \"./Controls.vue?vue&type=template&id=90c67842&scoped=true&lang=pug\"\nimport script from \"./Controls.vue?vue&type=script&lang=ts\"\nexport * from \"./Controls.vue?vue&type=script&lang=ts\"\n\nimport \"./Controls.vue?vue&type=style&index=0&id=90c67842&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-90c67842\"\n\nexport default script","\nimport { defineComponent, ref, computed } from 'vue'\nimport AVSVideo from '@/components/VideoSection/Video.vue'\nimport AVSAudio from '@/components/AudioSection/Audio.vue'\nimport AVSControls from '@/components/ControlsSection/Controls.vue'\nimport { SecToFrame } from '@/Utils'\n\nexport default defineComponent({\n  components: {\n    AVSVideo,\n    AVSAudio,\n    AVSControls,\n  },\n  setup() {\n    const videoFilePath = ref<string | null>(null)\n    const videoFile = ref<File | null>(null)\n    const videoDuration = ref(0)\n    const isPlaying = ref(false)\n    const frameRate = ref(30)\n    const currentTime = ref(0)\n    const updateTime = ref(0)\n\n    const frames = computed(() =>\n      Math.round(videoDuration.value * frameRate.value)\n    )\n    const frameTimeArray = computed(() =>\n      Array.from(\n        { length: frames.value },\n        (_0, i) => i / frameRate.value + 0.5 / frameRate.value\n      )\n    )\n    const currentFrame = computed(() => {\n      return SecToFrame(currentTime.value, frameRate.value)\n    })\n\n    return {\n      videoFilePath,\n      videoFile,\n      videoDuration,\n      frames,\n      isPlaying,\n      frameRate,\n      currentTime,\n      updateTime,\n      currentFrame,\n      frameTimeArray,\n      updateVideoPath(fileDetails: { path: string; file: File }) {\n        if (videoFilePath.value != undefined) {\n          URL.revokeObjectURL(videoFilePath.value)\n        }\n        videoFilePath.value = fileDetails.path\n        videoFile.value = fileDetails.file\n      },\n      updateVideoMetadata(data: { duration: number }) {\n        videoDuration.value = data.duration\n      },\n      updateIsPlaying(state: boolean) {\n        isPlaying.value = state\n      },\n      updateFrameRate(rate: number) {\n        frameRate.value = rate\n      },\n      updateCurrentTime(time: number) {\n        currentTime.value = time\n      },\n      shiftFrames(shift: number) {\n        updateTime.value = (currentFrame.value + shift + 0.5) / frameRate.value\n      },\n      timeString: computed(() => {\n        return currentTime.value\n      }),\n    }\n  },\n})\n","import { render } from \"./Manager.vue?vue&type=template&id=48ef4f78&scoped=true&lang=pug\"\nimport script from \"./Manager.vue?vue&type=script&lang=ts\"\nexport * from \"./Manager.vue?vue&type=script&lang=ts\"\n\nimport \"./Manager.vue?vue&type=style&index=0&id=48ef4f78&lang=stylus\"\nimport \"./Manager.vue?vue&type=style&index=1&id=48ef4f78&lang=stylus&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-48ef4f78\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=c2952bd8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=c2952bd8&lang=stylus\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n          'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered() {\n      console.log('Service worker has been registered.')\n    },\n    cached() {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound() {\n      console.log('New content is downloading.')\n    },\n    updated() {\n      console.log('New content is available; please refresh.')\n    },\n    offline() {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    },\n    error(error) {\n      console.error('Error during service worker registration:', error)\n    },\n  })\n}\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\n\nconst app = createApp(App)\n\napp.mount('#app')\n"],"sourceRoot":""}